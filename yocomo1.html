<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modèle d'Auto-évaluation YOCOMO</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Outfit', sans-serif;
            background-color: #f1f5f9;
        }
        
        .transition-all-300 {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        /* Wheel Styles */
        .wheel-container {
            position: relative;
            width: 100%;
            max-width: 800px; 
            aspect-ratio: 1;
            margin: 0 auto;
            filter: drop-shadow(0 15px 25px rgba(0,0,0,0.1));
        }

        .wheel-segment {
            cursor: pointer;
            transition: transform 0.3s ease, filter 0.3s ease;
            transform-origin: center;
        }

        .wheel-segment:hover {
            filter: brightness(1.05);
            transform: scale(1.01);
            z-index: 10;
        }

        .wheel-segment.active {
            transform: scale(1.03);
            filter: brightness(1.1) saturate(1.1);
            stroke: white;
            stroke-width: 3px;
            z-index: 20;
        }

        /* Text styling inside SVG */
        .segment-text {
            pointer-events: none;
            fill: white;
            font-size: 3.2px; /* Slightly adjusted for better fit */
            font-weight: 600;
            text-anchor: middle;
            dominant-baseline: middle;
            text-shadow: 0px 1px 2px rgba(0,0,0,0.2);
        }

        /* Card Animation */
        .fade-in {
            animation: fadeIn 0.5s ease-out forwards;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .lang-btn.active {
            background-color: #0f172a;
            color: white;
        }
    </style>
</head>
<body class="min-h-screen flex flex-col text-slate-800">

    <!-- Header / Navigation -->
    <header class="w-full bg-white shadow-sm py-4 px-6 fixed top-0 z-50">
        <div class="max-w-6xl mx-auto flex justify-between items-center">
            <h1 class="text-xl md:text-2xl font-bold text-slate-800 flex items-center gap-2">
                <span class="w-8 h-8 bg-indigo-600 rounded-full flex items-center justify-center text-white text-sm">Y</span>
                YOCOMO
            </h1>
            
            <!-- Language Switcher -->
            <div class="flex bg-slate-100 rounded-full p-1 border border-slate-200">
                <button onclick="setLanguage('en')" id="btn-en" class="lang-btn px-4 py-1.5 rounded-full text-sm font-medium transition-all-300 active">English</button>
                <button onclick="setLanguage('fr')" id="btn-fr" class="lang-btn px-4 py-1.5 rounded-full text-sm font-medium text-slate-500 hover:text-slate-700 transition-all-300">Français</button>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="flex-grow flex flex-col items-center justify-start gap-12 pt-28 pb-20 px-4 w-full max-w-5xl mx-auto">
        
        <!-- Header Section -->
        <div class="text-center w-full max-w-2xl">
            <h2 id="page-title" class="text-3xl md:text-5xl font-bold text-slate-900 mb-4">Modèle d'Auto-évaluation</h2>
            <p id="page-subtitle" class="text-slate-500 text-lg md:text-xl">Cliquez sur un secteur de la roue pour découvrir les détails de chaque compétence.</p>
        </div>

        <!-- The Wheel (Centered and Large) -->
        <div class="w-full flex justify-center">
            <div class="wheel-container">
                <svg viewBox="-5 -5 110 110" class="w-full h-full transform -rotate-90">
                    <!-- Segments will be injected here by JS -->
                    <g id="wheel-segments"></g>
                    
                    <!-- Center decorative circle - REMOVED -->
                    <!-- <circle cx="50" cy="50" r="12" fill="white" class="drop-shadow-md"/> -->
                    <!-- Central Icon/Logo - REMOVED -->
                    <!-- <g class="transform rotate-90 origin-center">
                        <path d="M50 42 L50 58 M42 50 L58 50" stroke="#e2e8f0" stroke-width="2" stroke-linecap="round"/>
                        <circle cx="50" cy="50" r="3" fill="#cbd5e1"/>
                    </g> -->
                    <!-- Simple small center point for aesthetics -->
                    <circle cx="50" cy="50" r="2" fill="white" class="drop-shadow-sm"/>
                </svg>
            </div>
        </div>

        <!-- Details Panel (Below the wheel) -->
        <div class="w-full max-w-4xl">
            <div id="info-card" class="bg-white rounded-3xl p-8 md:p-12 shadow-xl border border-slate-100 relative overflow-hidden">
                <!-- Decorative background blob -->
                <div id="card-blob" class="absolute -top-32 -right-32 w-96 h-96 bg-indigo-50 rounded-full blur-3xl opacity-40 transition-colors duration-500"></div>
                
                <div class="relative z-10 flex flex-col md:flex-row gap-8 items-start">
                    
                    <!-- Left: Number & Icon approximation -->
                    <div class="flex-shrink-0">
                        <span id="card-number" class="text-7xl md:text-8xl font-bold text-indigo-100 select-none block leading-none">01</span>
                    </div>

                    <!-- Right: Content -->
                    <div class="flex-grow">
                        <h3 id="card-title" class="text-2xl md:text-4xl font-bold text-slate-800 mb-6 leading-tight">
                            Facilitating individual and group learning
                        </h3>
                        
                        <div class="w-24 h-1.5 bg-indigo-500 rounded-full mb-8" id="card-bar"></div>
                        
                        <p id="card-desc" class="text-slate-600 leading-relaxed text-lg md:text-xl mb-8">
                            This competence refers to the ability to support young people in identifying and pursuing their learning needs. It involves choosing, adapting, or creating methods to facilitate learning processes in both individual and group settings.
                        </p>

                        <div class="pt-6 border-t border-slate-100">
                             <p class="text-xs font-bold text-slate-400 uppercase tracking-widest mb-3" id="label-keywords">Keywords</p>
                             <div id="card-tags" class="flex flex-wrap gap-2">
                                <!-- Tags injected by JS -->
                             </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="text-center py-8 text-slate-400 text-sm bg-white w-full border-t border-slate-100">
        <p id="footer-text">Basé sur le modèle de compétences ETS pour les travailleurs de jeunesse</p>
    </footer>

    <script>
        // --- Data Configuration ---
        const colors = [
            '#ef4444', // Red
            '#f97316', // Orange
            '#eab308', // Yellow
            '#22c55e', // Green
            '#06b6d4', // Cyan
            '#3b82f6', // Blue
            '#8b5cf6', // Violet
            '#ec4899'  // Pink
        ];

        const content = {
            en: {
                title: "Self-Assessment Model",
                subtitle: "Click on a sector to explore the competence area.",
                footer: "Based on the ETS Competence Model for Youth Workers",
                keywordsLabel: "Keywords",
                segments: [
                    {
                        id: 1,
                        wheelTitle: "Facilitating\nLearning",
                        title: "Facilitating individual and group learning",
                        desc: "This area focuses on supporting young people's learning processes. It involves identifying learning needs, creating safe and enriching environments, and using appropriate non-formal education methods to foster individual and group growth.",
                        tags: ["Learning Needs", "Methods", "Safe Environment", "Group Dynamics"]
                    },
                    {
                        id: 2,
                        wheelTitle: "Designing\nProgrammes",
                        title: "Designing programmes",
                        desc: "The ability to develop educational programmes based on the needs of young people. It involves planning logical structures, defining objectives, and ensuring the relevance of activities within the broader context of youth work.",
                        tags: ["Curriculum", "Objectives", "Structure", "Needs Analysis"]
                    },
                    {
                        id: 3,
                        wheelTitle: "Managing\nResources",
                        title: "Organising and managing resources",
                        desc: "Handling the practical side of youth work. This includes managing financial resources, ensuring safety, handling administrative tasks, and leading teams or organizations effectively.",
                        tags: ["Budgeting", "Safety", "Administration", "Leadership"]
                    },
                    {
                        id: 4,
                        wheelTitle: "Team\nCollaboration",
                        title: "Collaborating successfully in teams",
                        desc: "Working effectively with colleagues and stakeholders. It involves active participation, conflict resolution, sharing responsibilities, and contributing to a positive team atmosphere.",
                        tags: ["Teamwork", "Cooperation", "Conflict Resolution", "Synergy"]
                    },
                    {
                        id: 5,
                        wheelTitle: "Meaningful\nCommunication",
                        title: "Communicating meaningfully with others",
                        desc: "Building constructive relationships through active listening, empathy, and clear expression. It also involves being aware of non-verbal cues and handling emotions in professional interactions.",
                        tags: ["Active Listening", "Empathy", "Dialogue", "Non-verbal"]
                    },
                    {
                        id: 6,
                        wheelTitle: "Intercultural\nCompetence",
                        title: "Displaying intercultural competence",
                        desc: "Navigating diverse cultural contexts. It involves self-awareness of one's own biases, respecting differences, and creating inclusive environments that value diversity.",
                        tags: ["Diversity", "Inclusion", "Cultural Awareness", "Respect"]
                    },
                    {
                        id: 7,
                        wheelTitle: "Networking &\nAdvocacy",
                        title: "Networking and advocating",
                        desc: "Connecting with other actors and advocating for the value of youth work. It involves building partnerships, networking within the community, and influencing policy or public perception.",
                        tags: ["Partnerships", "Lobbying", "Community", "Influence"]
                    },
                    {
                        id: 8,
                        wheelTitle: "Evaluative\nPractices",
                        title: "Developing evaluative practices",
                        desc: "Using evaluation to improve quality. It involves assessing the impact of activities, gathering feedback, engaging in self-reflection, and implementing changes based on results.",
                        tags: ["Assessment", "Feedback", "Improvement", "Reflection"]
                    }
                ]
            },
            fr: {
                title: "Modèle d'Auto-évaluation",
                subtitle: "Cliquez sur un secteur pour explorer le domaine de compétence.",
                footer: "Basé sur le modèle de compétences ETS pour les travailleurs de jeunesse",
                keywordsLabel: "Mots-clés",
                segments: [
                    {
                        id: 1,
                        wheelTitle: "Faciliter\nl'Apprentissage",
                        title: "Faciliter l'apprentissage individuel et en groupe",
                        desc: "Ce domaine se concentre sur le soutien aux processus d'apprentissage des jeunes. Il s'agit d'identifier les besoins, de créer des environnements sûrs et enrichissants, et d'utiliser des méthodes d'éducation non formelle appropriées.",
                        tags: ["Besoins d'apprentissage", "Méthodes", "Environnement sûr", "Dynamique de groupe"]
                    },
                    {
                        id: 2,
                        wheelTitle: "Concevoir des\nProgrammes",
                        title: "Concevoir des programmes",
                        desc: "La capacité d'élaborer des programmes éducatifs basés sur les besoins des jeunes. Cela implique de planifier des structures logiques, de définir des objectifs clairs et d'assurer la pertinence des activités éducatives.",
                        tags: ["Planification", "Objectifs", "Structure", "Analyse des besoins"]
                    },
                    {
                        id: 3,
                        wheelTitle: "Gérer les\nRessources",
                        title: "Organiser et gérer les ressources",
                        desc: "Gérer les aspects pratiques du travail de jeunesse. Cela inclut la gestion financière, la sécurité des participants, les tâches administratives et le leadership efficace des équipes.",
                        tags: ["Budget", "Sécurité", "Administration", "Leadership"]
                    },
                    {
                        id: 4,
                        wheelTitle: "Collaborer en\nÉquipe",
                        title: "Collaborer avec succès en équipe",
                        desc: "Travailler efficacement avec collègues et partenaires. Cela implique une participation active, la résolution constructive de conflits, le partage des responsabilités et la contribution à une atmosphère positive.",
                        tags: ["Travail d'équipe", "Coopération", "Résolution de conflits"]
                    },
                    {
                        id: 5,
                        wheelTitle: "Communication\nSignificative",
                        title: "Communiquer de manière significative",
                        desc: "Construire des relations constructives grâce à l'écoute active, l'empathie et une expression claire. Cela implique également de gérer les émotions et les signaux non verbaux dans les interactions professionnelles.",
                        tags: ["Écoute active", "Empathie", "Dialogue", "Non-verbal"]
                    },
                    {
                        id: 6,
                        wheelTitle: "Compétence\nInterculturelle",
                        title: "Faire preuve de compétence interculturelle",
                        desc: "Naviguer dans des contextes culturels divers. Cela implique la conscience de ses propres préjugés, le respect des différences culturelles et la création d'environnements inclusifs.",
                        tags: ["Diversité", "Inclusion", "Conscience culturelle", "Respect"]
                    },
                    {
                        id: 7,
                        wheelTitle: "Réseautage et\nPlaidoyer",
                        title: "Réseautage et plaidoyer",
                        desc: "Se connecter avec d'autres acteurs et défendre la valeur du travail de jeunesse. Cela implique de construire des partenariats durables et d'influencer les politiques ou la perception publique.",
                        tags: ["Partenariats", "Plaidoyer", "Communauté", "Influence"]
                    },
                    {
                        id: 8,
                        wheelTitle: "Pratiques\nd'Évaluation",
                        title: "Développer des pratiques d'évaluation",
                        desc: "Utiliser l'évaluation pour améliorer la qualité. Cela implique d'évaluer l'impact des activités, de recueillir des retours, de s'engager dans l'auto-réflexion et d'ajuster les actions en conséquence.",
                        tags: ["Évaluation", "Feedback", "Amélioration", "Réflexion"]
                    }
                ]
            }
        };

        // --- State ---
        let currentLang = 'fr';
        let activeIndex = 0;

        // --- Core Functions ---
        
        function initWheel() {
            const svgGroup = document.getElementById('wheel-segments');
            const radius = 50;
            const center = 50;
            const segmentsCount = 8;
            const anglePerSegment = 360 / segmentsCount;
            const data = content[currentLang];

            svgGroup.innerHTML = ''; // Clear existing

            for (let i = 0; i < segmentsCount; i++) {
                // 1. Draw Slice
                const startAngle = (i * anglePerSegment);
                const endAngle = ((i + 1) * anglePerSegment);
                
                const startRad = (startAngle * Math.PI) / 180;
                const endRad = (endAngle * Math.PI) / 180;

                const x1 = center + radius * Math.cos(startRad);
                const y1 = center + radius * Math.sin(startRad);
                const x2 = center + radius * Math.cos(endRad);
                const y2 = center + radius * Math.sin(endRad);

                const pathData = `M ${center} ${center} L ${x1} ${y1} A ${radius} ${radius} 0 0 1 ${x2} ${y2} Z`;

                const path = document.createElementNS("http://www.w3.org/2000/svg", "path");
                path.setAttribute("d", pathData);
                path.setAttribute("fill", colors[i]);
                path.setAttribute("stroke", "white");
                path.setAttribute("stroke-width", "0.8");
                path.setAttribute("class", "wheel-segment");
                path.setAttribute("onclick", `selectSegment(${i})`);
                path.setAttribute("id", `seg-${i}`);
                svgGroup.appendChild(path);

                // 2. Add Text
                const midAngle = startAngle + (anglePerSegment / 2);
                const midRad = (midAngle * Math.PI) / 180;
                
                // Radius position for text (adjust based on slice size)
                const textRadius = radius * 0.65; 
                const tx = center + textRadius * Math.cos(midRad);
                const ty = center + textRadius * Math.sin(midRad);

                const textGroup = document.createElementNS("http://www.w3.org/2000/svg", "text");
                textGroup.setAttribute("class", "segment-text");
                textGroup.setAttribute("x", tx);
                textGroup.setAttribute("y", ty);

                // --- ROTATION FIX ---
                // Original logic had >90 && <270 which was wrong for rotated parent.
                // Correct logic: Text on the visual "Left Hemisphere" needs 180 flip.
                // Due to parent -90 rotation, Visual Left is SVG angle 180 to 360.
                
                let rotation = midAngle;
                
                if (midAngle > 180) {
                    rotation += 180;
                }

                // Apply rotation around the text insertion point
                textGroup.setAttribute("transform", `rotate(${rotation}, ${tx}, ${ty})`);

                // Handle Multiline Text (split by \n)
                const lines = data.segments[i].wheelTitle.split('\n');
                lines.forEach((line, index) => {
                    const tspan = document.createElementNS("http://www.w3.org/2000/svg", "tspan");
                    tspan.textContent = line;
                    tspan.setAttribute("x", tx);
                    
                    let dy = "0";
                    if (lines.length > 1) {
                        const lineHeight = 1.1; // em
                        const startY = -((lines.length - 1) * lineHeight) / 2;
                        dy = `${startY + (index * lineHeight)}em`;
                    }
                    if(index > 0) tspan.setAttribute("dy", "1.1em"); 
                    else if(lines.length > 1) tspan.setAttribute("dy", "-0.5em"); 

                    textGroup.appendChild(tspan);
                });

                svgGroup.appendChild(textGroup);
            }
        }

        function selectSegment(index) {
            activeIndex = index;
            updateUI(false); 
        }

        function setLanguage(lang) {
            currentLang = lang;
            
            document.getElementById('btn-en').className = `lang-btn px-4 py-1.5 rounded-full text-sm font-medium transition-all-300 ${lang === 'en' ? 'active' : 'text-slate-500 hover:text-slate-700'}`;
            document.getElementById('btn-fr').className = `lang-btn px-4 py-1.5 rounded-full text-sm font-medium transition-all-300 ${lang === 'fr' ? 'active' : 'text-slate-500 hover:text-slate-700'}`;

            initWheel();
            updateUI(true);
        }

        function updateUI(refreshWheel = false) {
            const data = content[currentLang];
            const currentItem = data.segments[activeIndex];

            // 1. Update Static Text
            document.getElementById('page-title').textContent = data.title;
            document.getElementById('page-subtitle').textContent = data.subtitle;
            document.getElementById('footer-text').textContent = data.footer;
            document.getElementById('label-keywords').textContent = data.keywordsLabel;

            // 2. Highlight active segment
            for (let i = 0; i < 8; i++) {
                const seg = document.getElementById(`seg-${i}`);
                if (seg) { 
                    if (i === activeIndex) seg.classList.add('active');
                    else seg.classList.remove('active');
                }
            }

            // 3. Update Card Content
            const elements = {
                title: document.getElementById('card-title'),
                desc: document.getElementById('card-desc'),
                num: document.getElementById('card-number'),
                bar: document.getElementById('card-bar'),
                blob: document.getElementById('card-blob'),
                tags: document.getElementById('card-tags'),
                card: document.getElementById('info-card')
            };

            // Animation Reset
            elements.card.classList.remove('fade-in');
            void elements.card.offsetWidth; // trigger reflow
            elements.card.classList.add('fade-in');

            // Set Content
            elements.num.textContent = `0${currentItem.id}`;
            elements.title.textContent = currentItem.title;
            elements.desc.textContent = currentItem.desc;
            
            // Set Styles
            const color = colors[activeIndex];
            elements.num.style.color = color + '30'; // Very transparent
            elements.bar.style.backgroundColor = color;
            elements.blob.style.backgroundColor = color;

            // Tags
            elements.tags.innerHTML = '';
            currentItem.tags.forEach(tag => {
                const span = document.createElement('span');
                span.className = 'px-3 py-1.5 bg-slate-100 text-slate-700 text-sm rounded-lg font-medium tracking-wide';
                span.textContent = tag;
                elements.tags.appendChild(span);
            });
        }

        // Boot
        setLanguage('fr'); 

    </script>
</body>
</html>
