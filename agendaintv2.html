<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vi-Act - Agenda Interactif</title>
    <!-- Tailwind CSS pour le style -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Police Inter -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; }
        /* Scrollbar personnalis√©e pour √™tre plus discr√®te */
        ::-webkit-scrollbar { width: 6px; height: 6px; }
        ::-webkit-scrollbar-track { background: #f1f5f9; }
        ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 3px; }
        ::-webkit-scrollbar-thumb:hover { background: #94a3b8; }
    </style>
</head>
<body class="bg-slate-100 text-slate-800 p-2 md:p-4 min-h-screen">

    <div id="app" class="max-w-[1400px] mx-auto">
        <!-- Le contenu sera g√©n√©r√© ici par JavaScript -->
    </div>

    <script>
        // --- DONN√âES & CONFIGURATION ---

        const timezones = [
            { id: 'fr', name: 'France (Paris)', offset: 0, flag: 'üá´üá∑' },
            { id: 'ro', name: 'Roumanie / Bulgarie', offset: 1, flag: 'üá∑üá¥' },
            { id: 'mg', name: 'Madagascar', offset: 2, flag: 'üá≤üá¨' },
            { id: 'sc', name: 'Seychelles / Maurice', offset: 3, flag: 'üá∏üá®' },
        ];

        const translations = {
            fr: {
                title: "Vi-Act - Virtual youth work and facilitation training",
                subtitle: "Agenda Interactif",
                legend_synchrone: "Synchrone (Live)",
                legend_elearning: "E-learning (Autonomie)",
                legend_blended: "Blended (Mixte)",
                legend_opening: "Ouverture / R√©flexion",
                legend_social: "Social Club",
                opening: "Ouverture salle virtuelle",
                break_label: "Pause",
                days: ["Jour 1", "Jour 2", "Jour 3", "Jour 4", "Jour 5", "Jour 6"],
                day_themes: [
                    "Introduction au travail de jeunesse num√©rique et aux r√©alit√©s des jeunes",
                    "Accompagner les initiatives de jeunes",
                    "Construire un √©cosyst√®me local de travail jeunesse",
                    "Conception d'animations",
                    "Animation de groupe et d'activit√©s",
                    "Evaluer, communiquer et maximiser l'impact des nos actions"
                ],
                social_club_title: "Social Club",
                social_club_parallel: "Ouvert en parall√®le",
                time_label: "Heure",
                note: "* Horaires ajust√©s au fuseau s√©lectionn√© (Base: 07:30 FR)"
            },
            en: {
                title: "Vi-Act - Virtual youth work and facilitation training",
                subtitle: "Interactive Schedule",
                legend_synchrone: "Synchronous (Live)",
                legend_elearning: "E-learning (Self-paced)",
                legend_blended: "Blended (Mixed)",
                legend_opening: "Opening / Reflection",
                legend_social: "Social Club",
                opening: "Virtual Room Opening",
                break_label: "Break",
                days: ["Day 1", "Day 2", "Day 3", "Day 4", "Day 5", "Day 6"],
                day_themes: [
                    "Introduction to Digital Youth Work and Youth Realities",
                    "Supporting Youth Initiatives",
                    "Building a Local Youth Work Ecosystem",
                    "Designing Animations",
                    "Group Facilitation and Activities",
                    "Evaluating, Communicating, and Maximizing Impact"
                ],
                social_club_title: "Social Club",
                social_club_parallel: "Open in parallel",
                time_label: "Time",
                note: "* Times adjusted to selected timezone (Base: 07:30 FR)"
            }
        };

        // Donn√©es compl√®tes avec les horaires mis √† jour
        const scheduleData = [
            // --- JOUR 1 ---
            { day: 0, start: 7.5, duration: 30, type: 'opening', titleFr: "Ouverture salle virtuelle", titleEn: "Virtual Room Opening" },
            { day: 0, start: 8.0, duration: 120, type: 'synchrone', titleFr: "1. Ouverture de la formation", titleEn: "1. Opening of the Training" },
            { day: 0, start: 10.0, duration: 30, type: 'break', titleFr: "Pause", titleEn: "Break" },
            { day: 0, start: 10.5, duration: 120, type: 'synchrone', titleFr: "2. Animateur/travailleur jeunesse digital, c'est quoi?", titleEn: "2. Digital Youth Worker: What is it?" },
            { day: 0, start: 12.5, duration: 60, type: 'break', titleFr: "Pause D√©jeuner", titleEn: "Lunch Break" },
            { day: 0, start: 13.5, duration: 90, type: 'blended', titleFr: "3. Les r√©alit√©s des jeunes - Partie 1: Analyse de besoins & entretiens", titleEn: "3. Youth Realities - Part 1: Needs Analysis & Empathy Interviews" },
            { day: 0, start: 15.0, duration: 30, type: 'opening', titleFr: "Reflection Time", titleEn: "Reflection Time" },
            { day: 0, start: 15.5, duration: 120, type: 'elearning', titleFr: "3 bis. Les r√©alit√©s des jeunes - Partie 2: Recherche & r√©colte", titleEn: "3 bis. Youth Realities - Part 2: Research & Gathering Info" },

            // --- JOUR 2 ---
            { day: 1, start: 7.5, duration: 30, type: 'opening', titleFr: "Ouverture salle virtuelle", titleEn: "Virtual Room Opening" },
            { day: 1, start: 8.0, duration: 120, type: 'synchrone', titleFr: "4. Accompagner les processus cr√©atifs des jeunes (M√©thodologie)", titleEn: "4. Supporting Youth Creative Processes (Methodology)" },
            { day: 1, start: 10.0, duration: 30, type: 'break', titleFr: "Pause", titleEn: "Break" },
            { day: 1, start: 10.5, duration: 120, type: 'blended', titleFr: "5. Encourager et coordonner la vie b√©n√©vole", titleEn: "5. Encouraging & Coordinating Volunteering" },
            { day: 1, start: 12.5, duration: 60, type: 'opening', titleFr: "Reflection Time", titleEn: "Reflection Time" },
            { day: 1, start: 13.5, duration: 120, type: 'elearning', titleFr: "6. M√©thodologies d'apprentissage actifs & andragogie", titleEn: "6. Active Learning Methodologies & Andragogy" },
            { day: 1, start: 15.5, duration: 120, type: 'elearning', titleFr: "7. M√©thodologies d'accompagnement - bonnes pratiques & tutorat", titleEn: "7. Support Methodologies - Best Practices & Tutoring" },

            // --- JOUR 3 ---
            { day: 2, start: 7.5, duration: 30, type: 'opening', titleFr: "Ouverture salle virtuelle", titleEn: "Virtual Room Opening" },
            { day: 2, start: 8.0, duration: 120, type: 'synchrone', titleFr: "8. Cartographier les partenaires & coalition d‚Äôapprentissage", titleEn: "8. Mapping Partners & Learning Coalitions" },
            { day: 2, start: 10.0, duration: 30, type: 'break', titleFr: "Pause", titleEn: "Break" },
            { day: 2, start: 10.5, duration: 120, type: 'synchrone', titleFr: "9. Cr√©er un espace participatif & interculturel", titleEn: "9. Creating Participatory & Intercultural Spaces" },
            { day: 2, start: 12.5, duration: 60, type: 'opening', titleFr: "Reflection Time", titleEn: "Reflection Time" },
            { day: 2, start: 13.5, duration: 120, type: 'elearning', titleFr: "10. Du besoin aux objectifs d‚Äôapprentissage et indicateurs", titleEn: "10. From Needs to Learning Objectives & Indicators" },
            { day: 2, start: 15.5, duration: 120, type: 'elearning', titleFr: "11. Concevoir une progression p√©dagogique", titleEn: "11. Designing Pedagogical Progression" },

            // --- JOUR 4 ---
            { day: 3, start: 7.5, duration: 30, type: 'opening', titleFr: "Ouverture salle virtuelle", titleEn: "Virtual Room Opening" },
            { day: 3, start: 8.0, duration: 210, type: 'synchrone', titleFr: "12. Construire le d√©roul√© d'une animation", titleEn: "12. Building an Animation Flow" },
            { day: 3, start: 11.5, duration: 60, type: 'elearning', titleFr: "13. Garantir inclusion, s√©curit√© & aspects l√©gaux", titleEn: "13. Ensuring Inclusion, Safety & Legal Aspects" },
            { day: 3, start: 12.5, duration: 60, type: 'opening', titleFr: "Reflection Time", titleEn: "Reflection Time" },
            { day: 3, start: 13.5, duration: 120, type: 'elearning', titleFr: "14. Budget, administratif et logistique: Boite √† outils", titleEn: "14. Budget, Admin & Logistics: Toolkit" },
            { day: 3, start: 15.5, duration: 120, type: 'blended', titleFr: "12 bis. Construire le d√©roul√© d'une animation (Suite)", titleEn: "12 bis. Building an Animation Flow (Cont.)" },

            // --- JOUR 5 ---
            { day: 4, start: 7.5, duration: 30, type: 'opening', titleFr: "Ouverture salle virtuelle", titleEn: "Virtual Room Opening" },
            { day: 4, start: 8.0, duration: 120, type: 'synchrone', titleFr: "15. Posture de facilitation & apprentissage actif", titleEn: "15. Facilitation Posture & Active Learning" },
            { day: 4, start: 10.0, duration: 30, type: 'break', titleFr: "Pause", titleEn: "Break" },
            { day: 4, start: 10.5, duration: 60, type: 'blended', titleFr: "16. Dynamiques de groupe & conflits", titleEn: "16. Group Dynamics & Conflicts" },
            { day: 4, start: 11.5, duration: 60, type: 'elearning', titleFr: "17. √âvaluation formative & d√©briefings", titleEn: "17. Formative Assessment & Debriefings" },
            { day: 4, start: 12.5, duration: 60, type: 'opening', titleFr: "Reflection / Pause", titleEn: "Reflection / Break" },
            { day: 4, start: 13.5, duration: 240, type: 'blended', titleFr: "15 bis. Posture de facilitation & apprentissage actif ACTION !!!", titleEn: "15 bis. Facilitation Posture & Active Learning ACTION !!!" },
            // SOCIAL CLUB JOUR 5 (17:30 - 20:30)
            { day: 4, start: 17.5, duration: 180, type: 'social', titleFr: "Ouverture du social club", titleEn: "Social Club Opening" },

            // --- JOUR 6 ---
            { day: 5, start: 7.5, duration: 30, type: 'opening', titleFr: "Ouverture salle virtuelle", titleEn: "Virtual Room Opening" },
            { day: 5, start: 8.0, duration: 120, type: 'elearning', titleFr: "18. Evaluation & la capitalisation", titleEn: "18. Evaluation & Capitalization" },
            { day: 5, start: 10.0, duration: 30, type: 'break', titleFr: "Pause", titleEn: "Break" },
            { day: 5, start: 10.5, duration: 120, type: 'blended', titleFr: "19. Reconnaissance des apprentissages & Youthpass", titleEn: "19. Learning Recognition & Youthpass" },
            { day: 5, start: 12.5, duration: 60, type: 'break', titleFr: "Pause", titleEn: "Break" },
            { day: 5, start: 13.5, duration: 90, type: 'blended', titleFr: "20. Promouvoir les initiatives de jeunesse", titleEn: "20. Promoting Youth Initiatives" },
            { day: 5, start: 15.0, duration: 30, type: 'break', titleFr: "Pause", titleEn: "Break" },
            { day: 5, start: 15.5, duration: 120, type: 'synchrone', titleFr: "21. Plan de d√©veloppement professionnel & cl√¥ture", titleEn: "21. Professional Development Plan & Closing" },
        ];

        // --- √âTAT GLOBAL ---
        let currentState = {
            lang: 'fr',
            timezoneId: 'fr'
        };

        // --- FONCTIONS UTILITAIRES ---

        // SVG Icons en ligne pour √©viter les d√©pendances
        const icons = {
            calendar: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-6 h-6 text-red-600"><rect width="18" height="18" x="3" y="4" rx="2" ry="2"/><line x1="16" x2="16" y1="2" y2="6"/><line x1="8" x2="8" y1="2" y2="6"/><line x1="3" x2="21" y1="10" y2="10"/></svg>`,
            clock: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-4 h-4 text-slate-400"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>`,
            chevronDown: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-4 h-4 text-slate-400 pointer-events-none"><path d="m6 9 6 6 6-6"/></svg>`,
            coffee: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-3 h-3 inline"><path d="M10 2v2"/><path d="M14 2v2"/><path d="M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 0 1 4 4v1a4 4 0 0 1-4 4h-1"/><line x1="6" x2="6" y1="2" y2="4"/></svg>`,
            coffeeLarge: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-3 h-3 text-fuchsia-600"><path d="M10 2v2"/><path d="M14 2v2"/><path d="M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 0 1 4 4v1a4 4 0 0 1-4 4h-1"/><line x1="6" x2="6" y1="2" y2="4"/></svg>`
        };

        function formatTime(baseHour) {
            const currentTz = timezones.find(tz => tz.id === currentState.timezoneId) || timezones[0];
            let hour = Math.floor(baseHour);
            let minutes = Math.round((baseHour - hour) * 60);
            
            // Ajout d√©calage
            hour = (hour + currentTz.offset) % 24;

            const hStr = hour.toString().padStart(2, '0');
            const mStr = minutes.toString().padStart(2, '0');
            return `${hStr}:${mStr}`;
        }

        function getEventStyle(type) {
            switch (type) {
                case 'synchrone': return 'bg-red-50 border-l-4 border-red-500 text-red-900 hover:bg-red-100';
                case 'elearning': return 'bg-emerald-50 border-l-4 border-emerald-500 text-emerald-900 hover:bg-emerald-100';
                case 'blended': return 'bg-blue-50 border-l-4 border-blue-500 text-blue-900 hover:bg-blue-100';
                case 'opening': return 'bg-amber-50 border-l-4 border-amber-400 text-amber-900 hover:bg-amber-100 italic';
                case 'break': return 'bg-slate-50 border-l-4 border-slate-200 text-slate-400 text-xs py-1 border-dashed';
                case 'social': return 'bg-fuchsia-50 border-l-4 border-fuchsia-500 text-fuchsia-900 hover:bg-fuchsia-100 shadow-md';
                default: return 'bg-gray-100';
            }
        }

        function getEventIcon(type) {
             switch(type) {
                case 'synchrone': return 'üî¥';
                case 'elearning': return 'üü¢';
                case 'blended': return 'üîµ';
                case 'opening': return 'üü°';
                case 'break': return '‚ö™';
                case 'social': return icons.coffee;
                default: return '';
            }
        }

        function getParallelSocialClub(dayIndex) {
            // Jours 0, 1, 2, 3 (Lundi-Jeudi / Jours 1-4)
            if (dayIndex >= 0 && dayIndex <= 3) {
                return {
                    start: 13.5,
                    duration: 240, // 4h (13h30 - 17h30)
                };
            }
            return null;
        }

        // --- FONCTION DE RENDU PRINCIPALE ---
        function render() {
            const t = translations[currentState.lang];
            const app = document.getElementById('app');
            
            // Construction du HTML
            let html = `
                <!-- HEADER -->
                <header class="mb-4 bg-white rounded-lg shadow-sm border border-slate-200 p-4 flex flex-col md:flex-row justify-between items-center gap-4">
                    <div>
                        <h1 class="text-xl md:text-2xl font-bold text-slate-800 flex items-center gap-2">
                            ${icons.calendar}
                            ${t.title}
                        </h1>
                        <p class="text-slate-500 text-sm">${t.subtitle}</p>
                    </div>

                    <div class="flex flex-wrap gap-3 justify-center md:justify-end">
                        <!-- Timezone Selector -->
                        <div class="relative">
                            <div class="absolute inset-y-0 left-2 flex items-center pointer-events-none">
                                ${icons.clock}
                            </div>
                            <select id="timezone-select" class="pl-8 pr-8 py-2 bg-slate-50 border border-slate-200 rounded-md text-sm font-medium focus:outline-none focus:ring-2 focus:ring-red-500 appearance-none cursor-pointer hover:bg-slate-100 min-w-[220px]">
                                ${timezones.map(tz => `<option value="${tz.id}" ${currentState.timezoneId === tz.id ? 'selected' : ''}>${tz.flag} ${tz.name}</option>`).join('')}
                            </select>
                            <div class="absolute inset-y-0 right-2 flex items-center pointer-events-none">
                                ${icons.chevronDown}
                            </div>
                        </div>

                        <!-- Lang Buttons -->
                        <div class="flex bg-slate-100 rounded-md p-1 border border-slate-200">
                            <button onclick="setLang('fr')" class="px-3 py-1 text-xs font-bold rounded transition-colors ${currentState.lang === 'fr' ? 'bg-white shadow text-red-600' : 'text-slate-500 hover:text-slate-700'}">FR</button>
                            <button onclick="setLang('en')" class="px-3 py-1 text-xs font-bold rounded transition-colors ${currentState.lang === 'en' ? 'bg-white shadow text-red-600' : 'text-slate-500 hover:text-slate-700'}">EN</button>
                        </div>
                    </div>
                </header>

                <!-- LEGEND -->
                <div class="mb-4 flex flex-wrap justify-center gap-3 text-xs">
                    <div class="flex items-center gap-1.5 px-2 py-1 bg-red-50 text-red-800 rounded border border-red-200"><span class="text-sm">üî¥</span> ${t.legend_synchrone}</div>
                    <div class="flex items-center gap-1.5 px-2 py-1 bg-emerald-50 text-emerald-800 rounded border border-emerald-200"><span class="text-sm">üü¢</span> ${t.legend_elearning}</div>
                    <div class="flex items-center gap-1.5 px-2 py-1 bg-blue-50 text-blue-800 rounded border border-blue-200"><span class="text-sm">üîµ</span> ${t.legend_blended}</div>
                    <div class="flex items-center gap-1.5 px-2 py-1 bg-amber-50 text-amber-800 rounded border border-amber-200"><span class="text-sm">üü°</span> ${t.legend_opening}</div>
                    <div class="flex items-center gap-1.5 px-2 py-1 bg-fuchsia-50 text-fuchsia-800 rounded border border-fuchsia-200">${icons.coffeeLarge} ${t.legend_social}</div>
                </div>

                <!-- GRILLE -->
                <div class="overflow-x-auto pb-4">
                    <div class="min-w-[1000px] grid grid-cols-6 gap-2">
            `;

            // Boucle sur les 6 jours
            for (let dayIdx = 0; dayIdx < 6; dayIdx++) {
                const dayName = t.days[dayIdx];
                const dayTheme = t.day_themes[dayIdx];
                const dayEvents = scheduleData.filter(e => e.day === dayIdx).sort((a, b) => a.start - b.start);
                const parallelSocial = getParallelSocialClub(dayIdx);

                html += `
                    <div class="flex flex-col">
                        <!-- En-t√™te Jour -->
                        <div class="bg-slate-800 text-white p-3 text-center rounded-t-lg shadow-sm flex flex-col items-center justify-start min-h-[90px]">
                            <span class="font-bold text-sm uppercase tracking-wide block mb-1 text-red-300">${dayName}</span>
                            <span class="text-[10px] leading-tight font-medium opacity-95 block">${dayTheme}</span>
                        </div>
                        
                        <!-- Corps Jour -->
                        <div class="flex flex-col bg-white rounded-b-lg shadow border border-slate-200 min-h-[600px] relative pb-2">
                            <div class="p-2 flex flex-col gap-2 flex-grow">
                `;

                // √âv√©nements
                dayEvents.forEach(evt => {
                    const styleClass = getEventStyle(evt.type);
                    const title = currentState.lang === 'fr' ? evt.titleFr : evt.titleEn;
                    const timeRange = `${formatTime(evt.start)}${evt.type !== 'break' ? ' - ' + formatTime(evt.start + evt.duration/60) : ''}`;
                    const icon = getEventIcon(evt.type);
                    
                    const timeBadgeClass = evt.type === 'break' ? 'bg-slate-200' : 'bg-white/60';
                    const titleClass = evt.type === 'break' ? 'text-center text-[10px] uppercase font-bold tracking-widest' : 'font-semibold text-xs';
                    const containerClass = evt.type === 'break' ? 'opacity-70' : 'shadow-sm hover:shadow-md';

                    html += `
                        <div class="rounded p-2 transition-all duration-200 ${styleClass} ${containerClass}">
                            <div class="flex justify-between items-start mb-1">
                                <span class="font-mono font-bold text-[10px] px-1.5 rounded ${timeBadgeClass}">
                                    ${timeRange}
                                </span>
                                ${evt.type !== 'break' ? `<span class="text-xs">${icon}</span>` : ''}
                            </div>
                            <div class="leading-tight ${titleClass}">
                                ${title}
                            </div>
                        </div>
                    `;
                });

                html += `</div>`; // Fin flex-grow content

                // Social Club Parall√®le
                if (parallelSocial) {
                    const range = `${formatTime(parallelSocial.start)} - ${formatTime(parallelSocial.start + parallelSocial.duration/60)}`;
                    html += `
                        <div class="mt-auto mx-2 mb-2 p-2 rounded bg-fuchsia-50 border border-fuchsia-200 border-dashed text-fuchsia-900">
                             <div class="flex items-center gap-2 mb-1">
                                ${icons.coffeeLarge}
                                <span class="text-[10px] font-bold uppercase tracking-wide">${t.social_club_title}</span>
                             </div>
                             <div class="text-[10px] leading-tight opacity-80 mb-1">
                               ${t.social_club_parallel}
                             </div>
                             <span class="font-mono font-bold text-[10px] bg-white/50 px-1 rounded inline-block">
                                ${range}
                             </span>
                        </div>
                    `;
                }

                html += `</div></div>`; // Fin colonne
            }

            html += `
                    </div>
                </div>
                <div class="text-center text-slate-400 text-[10px] mt-2">
                    ${t.note}
                </div>
            `;

            app.innerHTML = html;

            // R√©-attacher l'√©v√©nement select car le DOM a √©t√© recr√©√©
            document.getElementById('timezone-select').addEventListener('change', (e) => {
                currentState.timezoneId = e.target.value;
                render();
            });
        }

        // --- ACTIONS ---
        function setLang(lang) {
            currentState.lang = lang;
            render();
        }

        // Initial render
        render();

    </script>
</body>
</html>
